"use strict";(globalThis.webpackChunk_github_ui_github_ui=globalThis.webpackChunk_github_ui_github_ui||[]).push([["packages_use-hide-footer_use-hide-footer_ts-packages_commits_shared_use-tree-pane_tsx-package-9c5f33"],{35311:(e,t,i)=>{i.d(t,{QC:()=>m,s2:()=>u,wH:()=>o,xY:()=>f});var r=i(35750),n=i(18150),a=i(50467),l=i(56051);function o(e,t){return e.startsWith(t)&&e!==t?-1:t.startsWith(e)&&e!==t?1:e<t?-1:+(e>t)}function s(e,t){return o(e.name,t.name)}function c(e,t){return o(e.fileName,t.fileName)}let FileNode=class FileNode{constructor(e,t){(0,a._)(this,"diff",void 0),(0,a._)(this,"filePath",void 0),(0,a._)(this,"fileName",void 0),(0,a._)(this,"directoryParts",void 0),(0,a._)(this,"sortOrder",void 0),this.diff=e,this.filePath=e.path;let i=this.filePath.split("/");this.fileName=i[i.length-1],this.directoryParts=i.slice(0,i.length-1),this.sortOrder=t}};var d=new WeakMap;let DirectoryNode=class DirectoryNode{getOrCreateDirectory(e,t){let i=(0,r._)(this,d).get(e);if(!i){let n=this.path?`${this.path}/`:"";i=new DirectoryNode(e,`${n}${e}`,t),this.directories.push(i),(0,r._)(this,d).set(e,i)}return i}sort(){for(let e of(this.directories.sort(s),this.files.sort(c),this.directories))e.sort()}constructor(e,t,i){(0,a._)(this,"directories",[]),(0,a._)(this,"files",[]),(0,n._)(this,d,{writable:!0,value:new Map}),(0,a._)(this,"name",void 0),(0,a._)(this,"path",void 0),(0,a._)(this,"sortOrder",void 0),this.name=e,this.path=t,this.sortOrder=i}};function f(e){let t=new DirectoryNode("","",Number.MAX_SAFE_INTEGER);for(let i of e.map((e,t)=>new FileNode(e,t))){let e=t;for(let t of i.directoryParts)(e=e.getOrCreateDirectory(t,i.sortOrder)).sortOrder=Math.min(e.sortOrder,i.sortOrder);e.files.push(i)}return function e(t){for(let i of t.directories)e(i);let i=t.directories.map(e=>e.sortOrder),r=t.files.map(e=>e.sortOrder);t.sortOrder=Math.min(t.sortOrder,...i,...r)}(t),t.sort(),t}function m(e){let t;t="string"==typeof e?e:e?.newPath||e?.oldPath;let i=t?.lastIndexOf(".");return t?!i||i<0?l.F7:`.${t.substring(i+1)}`:""}function u(e){let t={};return e.map(e=>{let i=m(e.path);void 0!==t[i]?t[i]+=1:t[i]=1}),t}},70719:(e,t,i)=>{i.d(t,{U:()=>c});var r=i(21728),n=i(96379),a=i(97665),l=i(94747),o=i(79472),s=i(21067);function c(e){let t,i,n,s,c=(0,r.c)(10),{onSuccess:f,onError:m}=e,u=(0,a.jE)();return c[0]!==u?(t=async e=>{u.setQueryData((0,o.w$)(),t=>({...t,...e}))},c[0]=u,c[1]=t):t=c[1],c[2]!==f?(i=()=>{f()},c[2]=f,c[3]=i):i=c[3],c[4]!==m?(n=e=>{m(e)},c[4]=m,c[5]=n):n=c[5],c[6]!==t||c[7]!==i||c[8]!==n?(s={mutationFn:d,onMutate:t,onSuccess:i,onError:n},c[6]=t,c[7]=i,c[8]=n,c[9]=s):s=c[9],(0,l.n)(s)}async function d(e){let{commentsPreference:t,lineSpacing:i,splitPreference:r}=e;if(!(0,s.M3)())return;let a={};t&&(a={...a,commentsPreference:t}),i&&(a={...a,lineSpacing:i}),r&&(a={...a,diff:r});let l=await (0,n.Sr)("/users/diffview",{method:"POST",headers:{Accept:"application/json"},body:a}),o=await l.json();if(l.ok)return o;throw Error(o.error||"Unknown error occurred",{cause:l.status})}},79472:(e,t,i)=>{i.d(t,{C0:()=>m,ID:()=>d,Qn:()=>u,aX:()=>s,bJ:()=>f,w$:()=>c});var r=i(21728),n=i(20622),a=i(97286),l=i(96459),o=i(53627);let s={splitPreference:"split",lineSpacing:"relaxed",commentsPreference:i(18799).sI.Visible};function c(){return[n.u.diffViewUserSettings]}function d(e){let t,i,n,l=(0,r.c)(6);l[0]===Symbol.for("react.memo_cache_sentinel")?(t=c(),l[0]=t):t=l[0];let o=t;return l[1]!==e?(i=async()=>e||s,l[1]=e,l[2]=i):i=l[2],l[3]!==e||l[4]!==i?(n={queryKey:o,queryFn:i,initialData:e,staleTime:1/0},l[3]=e,l[4]=i,l[5]=n):n=l[5],(0,a.I)(n)}function f(e,t){let i=new URL(window.location.href,window.location.origin);if(t){let r=encodeURIComponent(t);i.searchParams.set(e,r)}else i.searchParams.delete(e);(0,o.bj)(i.toString())}function m(e){let t,i=(0,r.c)(2),n=e,[a]=(0,l.o)();i[0]!==a?(t=a.get("diff"),i[0]=a,i[1]=t):t=i[1];let o=t;return("split"===o||"unified"===o)&&(n=o),n}function u(e){let t=e,[i]=(0,l.o)(),r=i.get("w");return"1"===r?t=!0:"0"===r&&(t=!1),t}},20622:(e,t,i)=>{i.d(t,{u:()=>r});let r={codeButton:"code_button",codeowners:"codeowners",commits:"commits",diffEntries:"diff_entries",diffstat:"diffstat",header:"header",mergeBox:"merge_box",mergeInstructions:"merge_instructions",pendingReview:"pending_review",statusChecks:"status_checks",tabCounts:"tab_counts",threadPreviews:"thread_previews",viewedFilesCount:"viewed_files_count",viewedFilesCount2:"viewed_files_count2",diffSummaries:"diff_summaries",diffViewUserSettings:"user_diff_view_settings",tableOfContents:"table_of_contents",diffCollapsedStatus:"diff_collapsed_status",diffContextLines:"diff_entry_lines",richDiff:"rich_diff",abandonReview:"abandon_review",addCommentReaction:"add_comment_reaction",changeBase:"change_base",cleanupCodespaces:"cleanup_codespaces",createReviewComment:"create_review_comment",deleteHeadRef:"delete_head_ref",dequeuePullRequest:"dequeue_pull_request",disableAutoMerge:"disable_auto_merge",enableAutoMerge:"enable_auto_merge",dismissReview:"dismiss_review",markReadyForReview:"mark_ready_for_review",merge:"merge",removeCommentReaction:"remove_comment_reaction",reRequestReviewFromUser:"re_request_review_from_user",restoreHeadRef:"restore_head_ref",resolveThread:"resolve_thread",runActionRequiredWorkflows:"run_action_required_workflows",submitReview:"submit_review",unresolveThread:"unresolve_thread",updateReviewComment:"update_review_comment",updatePullRequestBranch:"update_pull_request_branch",updateTitle:"update_title",updateDiffViewUserSettings:"update_diff_view_user_settings",updateViewedFiles:"update_viewed_files",updateMergeBoxUserPreference:"update_merge_box_user_preference",updateWhitespacePreference:"update_whitespace_preference",hideComment:"hide_comment",unhideComment:"unhide_comment",submitSuggestedChanges:"apply_suggestions"}},70843:(e,t,i)=>{i.d(t,{L:()=>n});var r=i(96540);function n(e){(0,r.useEffect)(()=>{if(!e)return;let t=document.querySelector(".footer");if(t)return t.hidden=!0,()=>{t.hidden=!1}},[e])}},46001:(e,t,i)=>{i.d(t,{q:()=>u});var r=i(74848),n=i(8624),a=i(94195),l=i(54571),o=i(96540),s=i(25407),c=i(96379);async function d(e,t){if(!t)return;let i=new FormData;i.set("file_tree_visible",e?"true":"false"),(0,c.DI)((0,s.h6D)(t),{method:"PUT",body:i,headers:{Accept:"application/json"}})}let f={sm:a.Gy.small,md:a.Gy.medium,lg:a.Gy.large},m={size:"medium",mobileBreakpoint:"md"};function u(e,t,i,s){let c={...m,...s},[u]=(0,l.I)(()=>!1,!0,[]),h=(0,o.useRef)(null),p=(0,o.useRef)(null),_=f[c.mobileBreakpoint??"md"],[g,x]=(0,o.useState)(t),[v,y]=(0,o.useState)(!1),b=(0,o.useCallback)(()=>{(0,a.nn)(window.innerWidth)<=_?(y(!0),requestAnimationFrame(()=>p.current?.focus())):(x(!0),d(!0,i),requestAnimationFrame(()=>h.current?.focus()))},[_,i]),w=(0,o.useCallback)(()=>{(0,a.nn)(window.innerWidth)<=_?(y(!1),requestAnimationFrame(()=>p.current?.focus())):(x(!1),d(!1,i),requestAnimationFrame(()=>h.current?.focus()))},[_,i]),j=(0,o.useMemo)(()=>(0,r.jsx)(n.L,{expanded:g,alignment:"left",ariaLabel:g?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:h,onToggleExpanded:()=>{g?w():b()},className:`d-none d-${c.mobileBreakpoint}-flex position-relative`,size:c.size}),[g,e,c.mobileBreakpoint,c.size,w,b]),C=(0,o.useMemo)(()=>(0,r.jsx)(n.L,{expanded:v,alignment:"left",ariaLabel:v?"Collapse file tree":"Expand file tree",tooltipDirection:"se",testid:"file-tree-button",ariaControls:e,ref:p,onToggleExpanded:()=>{v?w():b()},className:`d-${c.mobileBreakpoint}-none position-relative`,size:c.size}),[v,e,c.mobileBreakpoint,c.size,w,b]);return{splitPagePaneHidden:u&&!t,splitPageContentHidden:{narrow:v,regular:!1},isTreeExpanded:g,isMobileTreeExpanded:v,expandTree:b,collapseTree:w,treeToggleElement:(0,o.useMemo)(()=>(0,r.jsxs)(r.Fragment,{children:[C,j]}),[C,j]),treeToggleRef:h}}},78252:(e,t,i)=>{i.d(t,{$:()=>o});var r=i(74848),n=i(38621),a=i(52446),l=i(34720);let o=e=>(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.l.Divider,{}),(0,r.jsx)(l.t,{eventContext:{prx:!0},leadingVisual:(0,r.jsx)(n.CopilotIcon,{}),fileDiffReference:e.copilotChatReference})]});try{o.displayName||(o.displayName="CopilotDiffChatBlobActionsMenuItems")}catch{}},1946:(e,t,i)=>{i.d(t,{oj:()=>b,ZH:()=>x});var r=i(74848),n=i(21728),a=i(38621),l=i(96540),o=i(3614),s=i(81246),c=i(20426),d=i(25556),f=i(35311),m=i(78049),u=i(34535),h=i(61583),p=i(71315);let _={"file-tree-row":"DiffFileTree-module__file-tree-row--GJi_6"},g=(0,l.memo)(function(e){let t,i=(0,n.c)(2),{changeType:a}=e;return i[0]!==a?(t=(0,r.jsx)(m.E,{status:a}),i[0]=a,i[1]=t):t=i[1],t});g.displayName="FileStatusIconItem";let x=(0,l.memo)(function(e){let t,i,d,f,m,h,x,v,y,b=(0,n.c)(35),{file:w,depth:j,hash:C,onSelect:S}=e,N=(0,l.useRef)(null),D=(0,l.useRef)(null),F=`#diff-${w.diff.pathDigest}`;b[0]===Symbol.for("react.memo_cache_sentinel")?(t={focusRowRef:N,mouseRowRef:N},b[0]=t):t=b[0];let I=(0,u.Z)(t),P=w.diff.totalCommentsCount??0,R=w.diff.highestAnnotationLevel,k=null,E=w.fileName??"This file";switch(P>0&&(E+=` has ${P<10?P:"9+"} ${P>1?"comments":"comment"}`),R){case"WARNING":{let e;E+=`${P>0?" and":""} has warning annotations`,b[1]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"pl-1 fgColor-attention",children:(0,r.jsx)(a.AlertIcon,{})}),b[1]=e):e=b[1],k=e;break}case"NOTICE":{let e;E+=`${P>0?" and":""} has notice annotations`,b[2]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"pl-1 fgColor-default",children:(0,r.jsx)(a.InfoIcon,{})}),b[2]=e):e=b[2],k=e;break}case"FAILURE":{let e;E+=`${P>0?" and":""} has failure annotations`,b[3]===Symbol.for("react.memo_cache_sentinel")?(e=(0,r.jsx)("div",{className:"pl-1 fgColor-danger",children:(0,r.jsx)(a.XCircleFillIcon,{})}),b[3]=e):e=b[3],k=e}}b[4]!==w.diff.pathDigest||b[5]!==C?(i=()=>{if(N.current&&w.diff.pathDigest===C){let e=window.setTimeout(()=>{let e=p.XC?.getElementById("diff_file_tree")?.parentElement,t=N.current.offsetTop,i=p.cg?.innerHeight??0;e&&(e.scrollTop=t-i/2)},0);return()=>{window.clearTimeout(e)}}},d=[w.diff.pathDigest,C],b[4]=w.diff.pathDigest,b[5]=C,b[6]=i,b[7]=d):(i=b[6],d=b[7]),(0,l.useEffect)(i,d),b[8]!==F||b[9]!==w.diff||b[10]!==S?(f=e=>{if(e.nativeEvent instanceof KeyboardEvent){if(N?.current!==document.activeElement)return void e.preventDefault();if("Enter"===e.key||" "===e.key){e.preventDefault(),S?.(w.diff),D?.current?.click();return}}if(e.nativeEvent instanceof MouseEvent){if(e.metaKey||e.ctrlKey||1===e.button){e.preventDefault(),window.open(F,"_blank");return}S?.(w.diff),D?.current?.click()}},b[8]=F,b[9]=w.diff,b[10]=S,b[11]=f):f=b[11];let O=f,T=w.fileName??"";b[12]!==F||b[13]!==T?(m=(0,r.jsx)(s.A,{href:F,muted:!0,ref:D,role:"presentation",className:"fgColor-default",tabIndex:-1,children:T}),b[12]=F,b[13]=T,b[14]=m):m=b[14];let $=m,A=w.diff.pathDigest===C;return b[15]!==w.diff.changeType?(h=(0,r.jsx)(c.G.LeadingVisual,{children:(0,r.jsx)(g,{changeType:w.diff.changeType})}),b[15]=w.diff.changeType,b[16]=h):h=b[16],b[17]!==$||b[18]!==T||b[19]!==I?(x=I?(0,r.jsx)(o.m,{text:T,direction:"ne",children:$}):$,b[17]=$,b[18]=T,b[19]=I,b[20]=x):x=b[20],b[21]!==k||b[22]!==R||b[23]!==P?(v=(!!P||R)&&(0,r.jsx)(c.G.TrailingVisual,{children:(0,r.jsxs)("div",{className:"d-flex flex-items-center flex-row",children:[!!P&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(a.CommentIcon,{}),(0,r.jsx)("div",{className:"ml-1 text-bold fgColor-default f6",children:P<10?P:"9+"})]}),k]})}),b[21]=k,b[22]=R,b[23]=P,b[24]=v):v=b[24],b[25]!==j||b[26]!==w.diff.path||b[27]!==w.diff.pathDigest||b[28]!==O||b[29]!==E||b[30]!==A||b[31]!==h||b[32]!==x||b[33]!==v?(y=(0,r.jsx)(r.Fragment,{children:(0,r.jsxs)(c.G.Item,{defaultExpanded:!0,"aria-label":E,"aria-level":j,current:A,id:w.diff.path,onSelect:O,ref:N,className:_["file-tree-row"],children:[h,x,v]},w.diff.pathDigest)}),b[25]=j,b[26]=w.diff.path,b[27]=w.diff.pathDigest,b[28]=O,b[29]=E,b[30]=A,b[31]=h,b[32]=x,b[33]=v,b[34]=y):y=b[34],y});function v(e){let t,i,a,o,s,f,m,h,p,_,g,x,b=(0,n.c)(43);b[0]!==e?({directory:t,depth:o,leadingPath:s,sortByDiffOrder:a,...i}=e,b[0]=e,b[1]=t,b[2]=i,b[3]=a,b[4]=o,b[5]=s):(t=b[1],i=b[2],a=b[3],o=b[4],s=b[5]);let w=void 0===o?0:o,j=void 0===s?"":s,C=j?`${j}/`:"",S=l.useRef(null),N=l.useRef(null);b[6]===Symbol.for("react.memo_cache_sentinel")?(f={focusRowRef:N,mouseRowRef:S},b[6]=f):f=b[6];let D=(0,u.Z)(f);if(!t.files.length&&1===t.directories.length){let e,n;if(b[7]!==w||b[8]!==t.directories||b[9]!==t.name||b[10]!==i||b[11]!==C||b[12]!==a){let n;b[14]!==w||b[15]!==t.name||b[16]!==i||b[17]!==C||b[18]!==a?(n=e=>(0,r.jsx)(v,{depth:0===w?1:w,directory:e,leadingPath:`${C}${t.name}`,sortByDiffOrder:a,...i},e.path),b[14]=w,b[15]=t.name,b[16]=i,b[17]=C,b[18]=a,b[19]=n):n=b[19],e=t.directories.map(n),b[7]=w,b[8]=t.directories,b[9]=t.name,b[10]=i,b[11]=C,b[12]=a,b[13]=e}else e=b[13];return b[20]!==e?(n=(0,r.jsx)(r.Fragment,{children:e}),b[20]=e,b[21]=n):n=b[21],n}b[22]!==w||b[23]!==t||b[24]!==i||b[25]!==a?(m=function(){return(0,r.jsx)(y,{directory:t,depth:w,sortByDiffOrder:a,...i})},b[22]=w,b[23]=t,b[24]=i,b[25]=a,b[26]=m):m=b[26];let F=m;if(0===w){let e;return b[27]!==F?(e=F(),b[27]=F,b[28]=e):e=b[28],e}b[29]===Symbol.for("react.memo_cache_sentinel")?(h=(0,r.jsx)(c.G.LeadingVisual,{children:(0,r.jsx)(c.G.DirectoryIcon,{})}),b[29]=h):h=b[29];let I=`${C}${t.name}`;return b[30]!==I?(p=(0,r.jsx)("span",{ref:S,children:I}),b[30]=I,b[31]=p):p=b[31],b[32]!==t.name||b[33]!==C||b[34]!==D?(_=D&&(0,r.jsx)(d.m,{"data-testid":`${t.name}-directory-item-tooltip`,id:`${t.name}-directory-item-tooltip`,contentRef:N,"aria-label":`${C}${t.name}`,open:!0,direction:"ne"}),b[32]=t.name,b[33]=C,b[34]=D,b[35]=_):_=b[35],b[36]!==F?(g=(0,r.jsx)(c.G.SubTree,{children:F()}),b[36]=F,b[37]=g):g=b[37],b[38]!==t.path||b[39]!==p||b[40]!==_||b[41]!==g?(x=(0,r.jsxs)(c.G.Item,{ref:N,defaultExpanded:!0,id:t.path,children:[h,p,_,g]},t.path),b[38]=t.path,b[39]=p,b[40]=_,b[41]=g,b[42]=x):x=b[42],x}let y=(0,l.memo)(function(e){let t,i,a,l,o,s,c,d=(0,n.c)(20);d[0]!==e?({directory:t,fileNodeRenderer:i,sortByDiffOrder:l,depth:o,...a}=e,d[0]=e,d[1]=t,d[2]=i,d[3]=a,d[4]=l,d[5]=o):(t=d[1],i=d[2],a=d[3],l=d[4],o=d[5]);let f=void 0===o?0:o;if(d[6]!==f||d[7]!==t.directories||d[8]!==t.files||d[9]!==i||d[10]!==a||d[11]!==l){let e,n=t.files.map(w).concat(t.directories.map(j));l?n.sort(C):n.sort(S),d[13]!==f||d[14]!==i||d[15]!==a||d[16]!==l?(e=e=>"file"!==e.pathType?(0,r.jsx)(v,{depth:f+1,directory:e.node,fileNodeRenderer:i,sortByDiffOrder:l,...a},e.path):i?i({...a,file:e.node,depth:f+1}):(0,r.jsx)(x,{depth:f+1,file:e.node,...a},e.path),d[13]=f,d[14]=i,d[15]=a,d[16]=l,d[17]=e):e=d[17],s=n.map(e),d[6]=f,d[7]=t.directories,d[8]=t.files,d[9]=i,d[10]=a,d[11]=l,d[12]=s}else s=d[12];return d[18]!==s?(c=(0,r.jsx)(r.Fragment,{children:s}),d[18]=s,d[19]=c):c=d[19],c}),b=(0,l.memo)(function(e){let t,i,a,o,s,d,m,u,_,g,x,y=(0,n.c)(20);y[0]!==e?({diffs:i,fileNodeRenderer:a,sortByDiffOrder:s,className:t,...o}=e,y[0]=e,y[1]=t,y[2]=i,y[3]=a,y[4]=o,y[5]=s):(t=y[1],i=y[2],a=y[3],o=y[4],s=y[5]),y[6]!==i?(d=(0,f.xY)(i),y[6]=i,y[7]=d):d=y[7];let b=d,[w,j]=l.useState("");y[8]===Symbol.for("react.memo_cache_sentinel")?(m=()=>{j(((0,h.pd)(p.fV.hash??"")??"").replace("diff-",""))},y[8]=m):m=y[8];let C=m;return y[9]===Symbol.for("react.memo_cache_sentinel")?(u=()=>(window.addEventListener("hashchange",C),C(),()=>{window.removeEventListener("hashchange",C)}),_=[C],y[9]=u,y[10]=_):(u=y[9],_=y[10]),(0,l.useEffect)(u,_),y[11]!==a||y[12]!==o||y[13]!==b||y[14]!==w||y[15]!==s?(g=(0,r.jsx)(v,{directory:b,fileNodeRenderer:a,sortByDiffOrder:s,...o,hash:w}),y[11]=a,y[12]=o,y[13]=b,y[14]=w,y[15]=s,y[16]=g):g=y[16],y[17]!==t||y[18]!==g?(x=(0,r.jsx)(c.G,{"aria-label":"File Tree",className:t,children:g}),y[17]=t,y[18]=g,y[19]=x):x=y[19],x});try{x.displayName||(x.displayName="File")}catch{}try{v.displayName||(v.displayName="Directory")}catch{}try{y.displayName||(y.displayName="DirectoryRendering")}catch{}try{b.displayName||(b.displayName="DiffFileTree")}catch{}function w(e){return{path:e.filePath,pathType:"file",node:e,sortOrder:e.sortOrder}}function j(e){return{path:e.path,pathType:"directory",node:e,sortOrder:e.sortOrder}}function C(e,t){return e.sortOrder-t.sortOrder}function S(e,t){return(0,f.wH)(e.path,t.path)}},56051:(e,t,i)=>{i.d(t,{kF:()=>_,F7:()=>p});var r,n=i(74848),a=i(21728),l=i(38621),o=i(24815),s=i(5945),c=i(87330),d=i(12004),f=i(52446),m=i(96540),u=i(34164);let h={filterLoadingHeight:"FileFilter-module__filterLoadingHeight--sNCxc",filterMaxHeight:"FileFilter-module__filterMaxHeight--Pjb6V"},p="No extension";function _({filterSize:e="medium",filterText:t,onFilterTextChange:i,fileExtensions:r,unselectedFileExtensions:a,onFilterChange:d,additionalFilterGroups:_}){r=r??{},a=a??new Set;let[g,x]=(0,m.useState)(t),v=(e,t)=>{d?.(e?"selectFileExtension":"unselectFileExtension",{extension:t})},y=Object.keys(r).filter(e=>e!==p).sort(),b=e=>!a.has(e),w=!!r[p];return(0,n.jsxs)("div",{id:"diff-file-tree-filter",className:"d-flex flex-nowrap gap-2",children:[(0,n.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:l.SearchIcon,placeholder:"Filter files\u2026",size:e,className:(0,u.$)("small"===e&&h.filterMaxHeight),value:g,onChange:e=>{x(e.target.value),i?.(e.target.value)}}),(0,n.jsxs)(s.W,{children:[(0,n.jsx)(s.W.Anchor,{children:(0,n.jsx)(c.K,{"aria-label":"Filter options",icon:l.SlidersIcon,className:"flex-shrink-0",size:e})}),(0,n.jsx)(s.W.Overlay,{children:(0,n.jsxs)(f.l,{children:[(0,n.jsxs)(f.l.Group,{selectionVariant:"multiple",children:[(0,n.jsx)(f.l.GroupHeading,{children:"File extensions"}),y.map(e=>{let t=b(e);return(0,n.jsx)(f.l.Item,{selected:t,onSelect:()=>v(!t,e),children:`${e} (${r[e]})`},e)}),w&&(0,n.jsx)(f.l.Item,{selected:b(p),onSelect:()=>v(!b(p),p),children:`${p} (${r[p]})`},p)]}),_]})})]})]})}try{(r=function(e){let t,i,r,f,m,p=(0,a.c)(9),{filterText:_,onFilterTextChange:g}=e;return p[0]!==g?(t=e=>g?.(e.target.value),p[0]=g,p[1]=t):t=p[1],p[2]!==_||p[3]!==t?(i=(0,n.jsx)(o.A,{block:!0,"aria-label":"Filter files\u2026",leadingVisual:l.SearchIcon,placeholder:"Filter files\u2026",value:_,onChange:t}),p[2]=_,p[3]=t,p[4]=i):i=p[4],p[5]===Symbol.for("react.memo_cache_sentinel")?(r=(0,n.jsx)(s.W.Anchor,{children:(0,n.jsx)(c.K,{"aria-label":"Filter options",icon:l.SlidersIcon,className:"flex-shrink-0"})}),p[5]=r):r=p[5],p[6]===Symbol.for("react.memo_cache_sentinel")?(f=(0,n.jsxs)(s.W,{children:[r,(0,n.jsx)(s.W.Overlay,{className:(0,u.$)(h.filterLoadingHeight),children:(0,n.jsx)("div",{className:(0,u.$)("d-flex","flex-column","flex-justify-center","flex-items-center",h.filterLoadingHeight),children:(0,n.jsx)(d.A,{size:"medium"})})})]}),p[6]=f):f=p[6],p[7]!==i?(m=(0,n.jsxs)("div",{className:"d-flex flex-nowrap gap-2",children:[i,f]}),p[7]=i,p[8]=m):m=p[8],m}).displayName||(r.displayName="FileFilterLoading")}catch{}try{_.displayName||(_.displayName="FileFilterShared")}catch{}},27028:(e,t,i)=>{i.d(t,{G:()=>$});var r=i(74848),n=i(21728),a=i(38621),l=i(5945),o=i(52446),s=i(34164),c=i(55847),d=i(57123),f=i(96540),m=i(21067),u=i(25407),h=i(76648),p=i(96379);function _(e){return!e.dismissed}function g(e){return 0===(function(){let e,t,i=(0,n.c)(5),r=(0,h.B)();if(!r){let e;return i[0]===Symbol.for("react.memo_cache_sentinel")?(e=[],i[0]=e):e=i[0],e}i[1]!==r.userNotices?(e=r.userNotices??[],i[1]=r.userNotices,i[2]=e):e=i[2];let a=e;return i[3]!==a?(t=a.filter(_),i[3]=a,i[4]=t):t=i[4],t})().filter(t=>t.name===e).length}var x=i(70719);let v={PopoverContainer:"DiffCompactLinesPopover-module__PopoverContainer--A4URR",PopoverContent:"DiffCompactLinesPopover-module__PopoverContent--HUydq",Heading:"DiffCompactLinesPopover-module__Heading--hFmwp"},y="compact_diff_lines";function b(){let e,t,i,a,l,o,h,_,b,C,S=(0,n.c)(19),N=g(y),{dismissNotice:D}=function(e){let t,i,r=(0,n.c)(5),a=g(e);r[0]!==a||r[1]!==e?(t=()=>{(0,m.M3)()&&!a&&(0,p.DI)((0,u.VB1)({noticeName:e}),{method:"POST"})},r[0]=a,r[1]=e,r[2]=t):t=r[2];let l=t;return r[3]!==l?(i={dismissNotice:l},r[3]=l,r[4]=i):i=r[4],i}(y);S[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:j,onError:w},S[0]=e):e=S[0];let{mutate:F}=(0,x.U)(e),[I,P]=(0,f.useState)(!0);S[1]!==D||S[2]!==F?(t=()=>{F({lineSpacing:"compact"}),P(!1),D()},S[1]=D,S[2]=F,S[3]=t):t=S[3];let R=t;S[4]!==D?(i=()=>{P(!1),D()},S[4]=D,S[5]=i):i=S[5];let k=i;return N?null:(S[6]===Symbol.for("react.memo_cache_sentinel")?(a=(0,s.$)("d-flex flex-column gap-2",v.PopoverContent),l=(0,r.jsx)("h2",{className:v.Heading,children:"Customizable line height"}),o=(0,r.jsx)("p",{children:"The default line height has been increased for improved accessibility. You can choose to enable a more compact line height from the view settings menu."}),S[6]=a,S[7]=l,S[8]=o):(a=S[6],l=S[7],o=S[8]),S[9]!==R?(h=(0,r.jsx)(c.Q,{onClick:R,children:"Enable compact line height"}),S[9]=R,S[10]=h):h=S[10],S[11]!==k?(_=(0,r.jsx)(c.Q,{onClick:k,variant:"invisible",children:"Dismiss"}),S[11]=k,S[12]=_):_=S[12],S[13]!==h||S[14]!==_?(b=(0,r.jsxs)(d.A.Content,{className:a,children:[l,o,(0,r.jsxs)("div",{className:"d-flex gap-2 flex-row w-full flex-wrap",children:[h,_]})]}),S[13]=h,S[14]=_,S[15]=b):b=S[15],S[16]!==I||S[17]!==b?(C=(0,r.jsx)(d.A,{open:I,caret:"top-right",className:v.PopoverContainer,children:b}),S[16]=I,S[17]=b,S[18]=C):C=S[18],C)}function w(){}function j(){}try{b.displayName||(b.displayName="DiffCompactLinesPopover")}catch{}var C=i(79472);function S(e){let t,i,a,l,s,c=(0,n.c)(15),{lineSpacingPreferenceAvailable:d,defaultHideWhitespace:f,onUpdateWhitespace:m,reloadOnChange:u}=e,h=void 0===d||d,{data:p}=(0,C.ID)(),_=(0,C.Qn)(void 0!==f&&f);c[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:D,onError:N},c[0]=t):t=c[0];let{mutate:g}=(0,x.U)(t);c[1]!==_||c[2]!==m||c[3]!==u?(i=()=>{(0,C.bJ)("w",_?"0":"1"),m?.(!_),void 0!==u&&u()},c[1]=_,c[2]=m,c[3]=u,c[4]=i):i=c[4];let v=i;return p?(c[5]!==_||c[6]!==v?(a=(0,r.jsx)(o.l.Item,{selected:_,onSelect:v,children:"Hide whitespace"}),c[5]=_,c[6]=v,c[7]=a):a=c[7],c[8]!==p||c[9]!==h||c[10]!==g?(l=h&&(0,r.jsx)(o.l.Item,{selected:"compact"===p.lineSpacing,onSelect:()=>g({lineSpacing:"compact"===p.lineSpacing?"relaxed":"compact"}),children:"Compact line height"}),c[8]=p,c[9]=h,c[10]=g,c[11]=l):l=c[11],c[12]!==a||c[13]!==l?(s=(0,r.jsxs)(o.l.Group,{"aria-label":"Format",selectionVariant:"multiple",variant:"subtle",children:[a,l]}),c[12]=a,c[13]=l,c[14]=s):s=c[14],s):null}function N(){}function D(){}try{S.displayName||(S.displayName="DiffLinePresentationToggles")}catch{}function F(e){let t,i,a,l,s,c,d,f=(0,n.c)(17),{reloadOnChange:m}=e,u=void 0!==m&&m,{data:h}=(0,C.ID)(),p=h?.splitPreference;f[0]===Symbol.for("react.memo_cache_sentinel")?(t={onSuccess:P,onError:I},f[0]=t):t=f[0];let{mutate:_}=(0,x.U)(t);f[1]===Symbol.for("react.memo_cache_sentinel")?(i=(0,r.jsx)(o.l.GroupHeading,{children:"Layout"}),f[1]=i):i=f[1];let g="unified"===p;f[2]!==u||f[3]!==_?(a=()=>{_({splitPreference:"unified"}),(0,C.bJ)("diff","unified"),u&&window.location.reload()},f[2]=u,f[3]=_,f[4]=a):a=f[4],f[5]!==g||f[6]!==a?(l=(0,r.jsx)(o.l.Item,{selected:g,onSelect:a,children:"Unified"}),f[5]=g,f[6]=a,f[7]=l):l=f[7];let v="split"===p;return f[8]!==u||f[9]!==_?(s=()=>{_({splitPreference:"split"}),(0,C.bJ)("diff","split"),u&&window.location.reload()},f[8]=u,f[9]=_,f[10]=s):s=f[10],f[11]!==v||f[12]!==s?(c=(0,r.jsx)(o.l.Item,{selected:v,onSelect:s,children:"Split"}),f[11]=v,f[12]=s,f[13]=c):c=f[13],f[14]!==l||f[15]!==c?(d=(0,r.jsxs)(o.l.Group,{selectionVariant:"single",children:[i,l,c]}),f[14]=l,f[15]=c,f[16]=d):d=f[16],d}function I(){}function P(){}try{F.displayName||(F.displayName="DiffViewPreferenceToggle")}catch{}var R=i(18799);function k(){let e,t,i,a,l=(0,n.c)(8),{data:s}=(0,C.ID)();l[0]===Symbol.for("react.memo_cache_sentinel")?(e={onSuccess:O,onError:E},l[0]=e):e=l[0];let{mutate:c}=(0,x.U)(e);if(!s)return null;let d=s.commentsPreference===R.sI.Collapsed;return l[1]===Symbol.for("react.memo_cache_sentinel")?(t=(0,r.jsx)(o.l.Divider,{}),l[1]=t):t=l[1],l[2]!==d||l[3]!==c?(i=()=>c({commentsPreference:d?R.sI.Visible:R.sI.Collapsed}),l[2]=d,l[3]=c,l[4]=i):i=l[4],l[5]!==d||l[6]!==i?(a=(0,r.jsxs)(r.Fragment,{children:[t,(0,r.jsx)(o.l.Group,{"aria-label":"Comments",selectionVariant:"single",children:(0,r.jsx)(o.l.Item,{role:"menuitemcheckbox",selected:d,onSelect:i,children:"Minimize comments"})})]}),l[5]=d,l[6]=i,l[7]=a):a=l[7],a}function E(){}function O(){}try{k.displayName||(k.displayName="DiffCommentsPreferenceToggle")}catch{}var T=i(30459);function $(e){let t,i,c,d,f,m,u,h,p,_,g,x,v=(0,n.c)(27),{invisible:y,lineSpacingPreferenceAvailable:w,defaultHideWhitespace:j,onUpdateWhitespace:C,reloadOnSplitPreferenceChange:N,reloadOnWhitespaceChange:D,small:I}=e,P=void 0===w||w,R=void 0!==N&&N,{sendAnalyticsEvent:E}=(0,T.s)();v[0]!==E?(t=()=>{E("diff_view.settings.open","DIFF_VIEW_SETTINGS_BUTTON")},v[0]=E,v[1]=t):t=v[1];let O=t,$=void 0===y||y?"Button--invisible":"Button--secondary",B=I&&"Button--small";v[2]!==$||v[3]!==B?(i=(0,s.$)("Button Button--iconOnly",$,B),v[2]=$,v[3]=B,v[4]=i):i=v[4],v[5]===Symbol.for("react.memo_cache_sentinel")?(c=(0,r.jsx)(a.GearIcon,{}),v[5]=c):c=v[5],v[6]!==O||v[7]!==i?(d=(0,r.jsx)(l.W.Anchor,{children:(0,r.jsx)("button",{className:i,"aria-label":"Open diff view settings",onClick:O,children:c})}),v[6]=O,v[7]=i,v[8]=d):d=v[8],v[9]!==R?(f=(0,r.jsx)(F,{reloadOnChange:R}),v[9]=R,v[10]=f):f=v[10],v[11]===Symbol.for("react.memo_cache_sentinel")?(m=(0,r.jsx)(k,{}),u=(0,r.jsx)(o.l.Divider,{}),v[11]=m,v[12]=u):(m=v[11],u=v[12]);let L=void 0!==D&&D?A:void 0;return v[13]!==j||v[14]!==P||v[15]!==C||v[16]!==L?(h=(0,r.jsx)(S,{defaultHideWhitespace:j,lineSpacingPreferenceAvailable:P,onUpdateWhitespace:C,reloadOnChange:L}),v[13]=j,v[14]=P,v[15]=C,v[16]=L,v[17]=h):h=v[17],v[18]!==f||v[19]!==h?(p=(0,r.jsx)(l.W.Overlay,{children:(0,r.jsxs)(o.l,{children:[f,m,u,h]})}),v[18]=f,v[19]=h,v[20]=p):p=v[20],v[21]!==d||v[22]!==p?(_=(0,r.jsxs)(l.W,{children:[d,p]}),v[21]=d,v[22]=p,v[23]=_):_=v[23],v[24]===Symbol.for("react.memo_cache_sentinel")?(g=(0,r.jsx)(b,{}),v[24]=g):g=v[24],v[25]!==_?(x=(0,r.jsxs)(r.Fragment,{children:[_,g]}),v[25]=_,v[26]=x):x=v[26],x}function A(){return window.location.reload()}try{$.displayName||($.displayName="DiffViewSettings")}catch{}},8624:(e,t,i)=>{i.d(t,{L:()=>s});var r=i(74848),n=i(21728),a=i(38621),l=i(87330),o=i(34164);let s=i(96540).forwardRef((e,t)=>{let i,s,c,d=(0,n.c)(17),{expanded:f,testid:m,ariaLabel:u,ariaControls:h,onToggleExpanded:p,alignment:_,dataHotkey:g,className:x,size:v,tooltipDirection:y,variant:b}=e,w=f?`collapse-${m}`:`expand-${m}`,j=f?"left"===_?a.SidebarExpandIcon:a.SidebarCollapseIcon:"left"===_?a.SidebarCollapseIcon:a.SidebarExpandIcon;d[0]!==p?(i=e=>{p(e)},d[0]=p,d[1]=i):i=d[1];let C=b??"invisible";return d[2]!==x?(s=(0,o.$)(x,"fgColor-muted"),d[2]=x,d[3]=s):s=d[3],d[4]!==h||d[5]!==u||d[6]!==g||d[7]!==f||d[8]!==t||d[9]!==v||d[10]!==w||d[11]!==j||d[12]!==i||d[13]!==C||d[14]!==s||d[15]!==y?(c=(0,r.jsx)(l.K,{"aria-label":u,tooltipDirection:y,ref:t,"data-testid":w,"aria-expanded":f,"aria-controls":h,icon:j,"data-hotkey":g,onClick:i,variant:C,size:v,className:s}),d[4]=h,d[5]=u,d[6]=g,d[7]=f,d[8]=t,d[9]=v,d[10]=w,d[11]=j,d[12]=i,d[13]=C,d[14]=s,d[15]=y,d[16]=c):c=d[16],c});s.displayName="ExpandButton"}}]);
//# sourceMappingURL=packages_use-hide-footer_use-hide-footer_ts-packages_commits_shared_use-tree-pane_tsx-package-9c5f33-0e0bf47319d0.js.map